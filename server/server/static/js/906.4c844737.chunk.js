"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[906],{6485:function(e,r,s){var a=s(1413),l=s(4925),t=s(184),i=["label","name","type","placeholder","onClick","onBlur","value","error"];r.Z=function(e){var r=e.label,s=e.name,n=e.type,o=void 0===n?"text":n,d=e.placeholder,c=e.onClick,u=e.onBlur,m=e.value,p=e.error,h=(0,l.Z)(e,i);return(0,t.jsxs)("div",{className:"relative mb-7",children:[(0,t.jsx)("label",{htmlFor:s,className:"mb-4 block font-medium text-heading",children:r}),(0,t.jsx)("input",(0,a.Z)({id:s,type:o,className:"block w-full rounded-ms border border-border bg-body-bg px-5 py-2.5 font-medium text-heading transition duration-150 placeholder:font-medium placeholder:text-heading/60 focus:border-primary focus:ring-0",placeholder:d,value:m,onClick:c,onBlur:u},h)),(0,t.jsx)("span",{className:"absolute bottom-0.5 -mb-5 block text-xs text-danger",children:p})]})}},3991:function(e,r,s){var a=s(885),l=s(4882),t=s(2791),i=s(184);r.Z=function(e){var r=e.value,s=e.onChange,n=e.maxFileSize,o=e.name,d=(0,t.useState)(null),c=(0,a.Z)(d,2),u=c[0],m=c[1],p=function(e){if(0===e)return"0 Byte";var r=Math.floor(Math.log(e)/Math.log(1024));return"".concat(Math.round(e/Math.pow(1024,r),2)," ").concat(["Bytes","KB","MB","GB","TB"][r])};return(0,i.jsxs)("div",{className:"relative mb-7",children:[(0,i.jsxs)("div",{className:"mb-4 flex items-center gap-4",children:[(0,i.jsx)("div",{className:"h-14 w-14 flex-shrink-0 rounded-full bg-muted",children:r?(0,i.jsx)("img",{src:"string"===typeof r?r:URL.createObjectURL(r),alt:"Profile Pic",className:"h-full w-full object-cover"}):(0,i.jsx)("div",{className:"flex h-full w-full items-center justify-center text-white/80 ",children:(0,i.jsx)(l.Z,{className:"h-10 w-10"})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"text-lg font-medium leading-6 text-heading",children:o}),(0,i.jsxs)("p",{children:["Max file size is ",p(n)]})]})]}),(0,i.jsxs)("div",{className:"relative cursor-pointer",children:[(0,i.jsx)("input",{className:"inside-0 absolute cursor-pointer opacity-0 file:cursor-pointer",type:"file",accept:"image/*",onChange:function(e){var r=e.target.files[0];r.size>n&&m("File size is too large. Max file size is ".concat(p(n))),s(r)}}),(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("div",{className:"form-input w-full flex-1 rounded-l-ms border border-border bg-body-bg px-5 py-2.5 font-medium text-heading transition duration-150 placeholder:font-medium placeholder:text-heading focus:border-primary focus:ring-0",children:"Change Photo"}),(0,i.jsx)("div",{className:"flex items-center justify-center rounded-r-ms bg-primary px-4 font-medium text-white",children:"Upload"})]})]}),(0,i.jsx)("span",{className:"absolute bottom-0.5 -mb-5 block text-xs text-danger",children:u})]})}},439:function(e,r,s){var a=s(1413),l=s(4925),t=s(184),i=["label","name","placeholder","onClick","onBlur","value","error","options","Icon","noGap"];r.Z=function(e){var r=e.label,s=e.name,n=e.placeholder,o=e.onClick,d=e.onBlur,c=e.value,u=e.error,m=e.options,p=e.Icon,h=e.noGap,f=(0,l.Z)(e,i);return(0,t.jsxs)("div",{className:"relative ".concat(h?"mb-0":"mb-7"),children:[r&&(0,t.jsx)("label",{htmlFor:s,className:"mb-4 block font-medium text-heading",children:r}),(0,t.jsxs)("div",{className:"box-border flex w-full divide-x divide-border rounded-ms border border-border bg-body-bg",children:[p&&(0,t.jsx)("div",{className:"flex items-center justify-center rounded-ms bg-white px-3 text-heading",children:(0,t.jsx)(p,{className:"h-7 w-7"})}),(0,t.jsxs)("select",(0,a.Z)((0,a.Z)({id:s,className:"block min-w-0 flex-1 rounded-ms border-0 bg-transparent px-5 font-medium text-heading transition duration-150 focus:ring-1 focus:ring-primary",placeholder:n,value:c,onClick:o,onBlur:d},f),{},{children:[(0,t.jsx)("option",{value:"",children:"Select"}),m.map((function(e){return(0,t.jsx)("option",{value:e.value,children:e.label},e.value)}))]}))]}),(0,t.jsx)("span",{className:"absolute bottom-0.5 -mb-5 block text-xs text-danger",children:u})]})}},8906:function(e,r,s){s.r(r),s.d(r,{default:function(){return N}});var a=s(885),l=s(2791),t=s(888),i=s(1413),n=s(6485),o=s(439),d=s(5705),c=s(7942),u=s(184),m={name:"",email:"",dateOfBirth:"",presentAddress:"",permanentAddress:"",city:"",postalCode:"",country:""},p=c.Ry({name:c.Z_().required("Name is required"),email:c.Z_().email("Invalid email address").required("Email is required"),dateOfBirth:c.hT(),presentAddress:c.Z_(),permanentAddress:c.Z_(),city:c.Z_(),postalCode:c.Z_(),country:c.Z_()}),h=function(e){var r=e.user,s=(0,l.useState)([]),c=(0,a.Z)(s,2),h=c[0],f=c[1];(0,l.useEffect)((function(){t.sR.getAll().then((function(e){f(e)}))}),[]);var x=(0,d.TA)({initialValues:m,validationSchema:p,onSubmit:function(e){t.vq.updateUser(r._id,{name:e.name,email:e.email,dateOfBirth:e.dateOfBirth,presentAddress:e.presentAddress,permanentAddress:e.permanentAddress,city:e.city,postalCode:e.postalCode,country:e.country})}});return(0,l.useEffect)((function(){x.setValues(r)}),[r]),(0,u.jsxs)("div",{className:"col-span-2 w-full rounded-2xl bg-white shadow-card",children:[(0,u.jsx)("h4",{className:"border-b border-border p-5 text-lg font-medium  text-heading",children:"Personal Information"}),(0,u.jsxs)("form",{className:"grid grid-cols-1 gap-x-3 p-5 lg:grid-cols-2",onSubmit:x.handleSubmit,children:[(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"Your Name",placeholder:"Name"},x.getFieldProps("name")),{},{error:x.touched.name&&x.errors.name})),(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"Email",placeholder:"Email"},x.getFieldProps("email")),{},{error:x.touched.email&&x.errors.email})),(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"Date of Birth",placeholder:"Date of Birth",type:"date"},x.getFieldProps("dateOfBirth")),{},{error:x.touched.dateOfBirth&&x.errors.dateOfBirth})),(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"Present Address",placeholder:"Present Address"},x.getFieldProps("presentAddress")),{},{error:x.touched.presentAddress&&x.errors.presentAddress})),(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"Permanent Address",placeholder:"Permanent Address"},x.getFieldProps("permanentAddress")),{},{error:x.touched.permanentAddress&&x.errors.permanentAddress})),(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"City",placeholder:"City"},x.getFieldProps("city")),{},{error:x.touched.city&&x.errors.city})),(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"Postal Code",placeholder:"Postal Code"},x.getFieldProps("postalCode")),{},{error:x.touched.postalCode&&x.errors.postalCode})),(0,u.jsx)(o.Z,(0,i.Z)((0,i.Z)({label:"Country",placeholder:"Country",options:h.map((function(e){return{label:e.country,value:e._id}}))},x.getFieldProps("country")),{},{error:x.touched.country&&x.errors.country})),(0,u.jsx)("div",{children:(0,u.jsx)("button",{className:"rounded-full bg-success px-12 py-3 font-medium text-white",children:"Save"})})]})]})},f=s(3991),x={name:"",profilePic:""},b=c.Ry({name:c.Z_().required("Name is required"),profilePic:c.nK()}),g=function(e){var r=e.user,s=(0,d.TA)({initialValues:x,validationSchema:b,onSubmit:function(e){var s=new FormData;s.append("name",e.name),e.profilePic instanceof File&&s.append("profilePic",e.profilePic),t.vq.updateUser(r._id,s,!0)}});return(0,l.useEffect)((function(){s.setValues(r)}),[r]),(0,u.jsxs)("div",{className:"col-span-2 w-full rounded-2xl bg-white shadow-card lg:col-span-1",children:[(0,u.jsx)("h4",{className:"border-b border-border p-5 text-lg font-medium  text-heading",children:"User Profile"}),(0,u.jsxs)("form",{className:"p-5",onSubmit:s.handleSubmit,children:[(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"Your Name",placeholder:"Name"},s.getFieldProps("name")),{},{error:s.touched.name&&s.errors.name})),(0,u.jsx)(f.Z,{value:s.values.profilePic,onChange:function(e){s.setFieldValue("profilePic",e)},maxFileSize:2e6,name:s.values.name||"Profile Picture"}),(0,u.jsx)("button",{className:"rounded-full bg-success px-12 py-3 font-medium text-white",children:"Save"})]})]})},v={email:"",password:""},j=c.Ry({email:c.Z_().email("Invalid email address").required("Email is required"),password:c.Z_().min(6,"Password must be at least 6 characters")}),Z=function(e){var r=e.user,s=(0,d.TA)({initialValues:v,validationSchema:j,onSubmit:function(e){t.vq.updateUser(r._id,{email:e.email,password:e.password}).then((function(){s.setFieldValue("password","")}))}});return(0,l.useEffect)((function(){s.setValues(r)}),[r]),(0,u.jsxs)("div",{className:"col-span-2 w-full rounded-2xl bg-white shadow-card lg:col-span-1",children:[(0,u.jsx)("h4",{className:"border-b border-border p-5 text-lg font-medium  text-heading",children:"User Profile"}),(0,u.jsxs)("form",{className:"p-5",onSubmit:s.handleSubmit,children:[(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"New Email",placeholder:"Email",type:"email"},s.getFieldProps("email")),{},{error:s.touched.email&&s.errors.email})),(0,u.jsx)(n.Z,(0,i.Z)((0,i.Z)({label:"New Password",placeholder:"**********"},s.getFieldProps("password")),{},{error:s.touched.password&&s.errors.password})),(0,u.jsx)("button",{className:"rounded-full bg-success px-12 py-3 font-medium text-white",children:"Save"})]})]})},y=s(3575),N=function(){var e=(0,y.a)().user,r=(0,l.useState)(null),s=(0,a.Z)(r,2),i=s[0],n=s[1],o=(0,l.useState)(!0),d=(0,a.Z)(o,2),c=d[0],m=d[1];return(0,l.useEffect)((function(){t.vq.getUser(e._id).then((function(e){n(e),m(!1)}))}),[]),(0,u.jsx)("div",{className:"grid grid-cols-2 items-start gap-7",children:c?(0,u.jsx)("div",{className:"col-span-1 text-center",children:"Loading..."}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(g,{user:i}),(0,u.jsx)(Z,{user:i}),(0,u.jsx)(h,{user:i})]})})}}}]);
//# sourceMappingURL=906.4c844737.chunk.js.map